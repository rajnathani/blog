function cur_timestamp(){return(new Date).getTime()/1e3}function gimme_oneminute(e,t){return t&&0!==t?1===t?ts_date(e):ts_date(e)+" ("+ts_diff(e)+")":ts_diff(e)}function oneminute(){for(var e,t,i,s=document.getElementsByTagName("*"),r=0;r<s.length;r++)e=s[r],null!==e.getAttribute("data-timestamp")&&(t=parseInt(e.getAttribute("data-timestamp")),i=e.getAttribute("data-time-mode"),null===i||"0"===i?(e.innerHTML=gimme_oneminute(t),e.title=ts_date(t)):e.innerHTML="1"===i?gimme_oneminute(t,1):gimme_oneminute(t,2))}function ts_date(e){var t=new Date(1e3*e+6e4);return t.getDate()+" "+month_mapper[t.getMonth()]+" "+t.getFullYear()}function ts_diff(e){e=parseInt(e);var t=cur_timestamp(),i=t-e,s=0>i;i=Math.abs(i);var r,n=Math.floor(i/60),o=Math.floor(n/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),h=Math.floor(a/365),u=!0;return 25>i?r="few seconds":40>i?r="about 30 seconds":60>i?r="less than a minute":2>n?r="one minute":60>=n?r=n+" minutes":2>=o?r="one hour":24>o?r=o+" hours":2>a?(u=!1,r=s?"tomorrow":"yesterday"):r=1>l?a+" days":2>l?"one week":1>c?Math.floor(a/7)+" weeks":2>c?"a month":1>h?c+" months":2>h?"one year":100>h?h+" years":1e3===h?"a century":1e3>h?Math.floor(h/100)+" centuries":1e3===h?"a millennium":Math.floor(h/1e3)+" millennia",u?s?r+" from now":r+" ago":r}function _distinguishThreeParameter(e){for(var t,i={},s=0;s<e.length;s++)t=e[s],_isString(t)?i.text=t:_isArray(t)?i.children=t:void 0!==t&&(i.details=t);return i}function _isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function _isString(e){return void 0!==e&&e.substring}function _isDictionary(e){return void 0!==e&&!_isArray(e)&&!_isString()}function cook(e,t,i,s){var r=_distinguishThreeParameter([t,i,s]),n=r.text,o=r.children,a=r.details,l=document.createElement(e);if(void 0!==n&&(default_text_not_html?add_text(l,n):l.innerHTML=n),void 0!==a){var c,h;for(c in a)switch(h=a[c],c.toLowerCase()){case"classes":for(var u=0;u<h.length;u++)l.className+=h[u]+" ";break;case"text":add_text(l,h);break;case"html":l.innerHTML=h;break;case"value":l.value=h;break;default:-1!==_cook_all_events.indexOf(c.toLowerCase())?l["on"+c]=h:l.setAttribute(c,h)}}if(void 0!==o)for(var p=0;p<o.length;p++)l.appendChild(o[p]);return l}function add_text(e,t){return e.appendChild(document.createTextNode(t)),e}function i(e,t,i){return cook("i",e,t,i)}function _escapePopOut(e){var t=e?e.keyCode:window.event.keyCode;27===t&&popOut()}function _animationPossible(){var e=!1,t="animation",i="",s="Webkit O MS MOZ".split(" ");if(n="",elm.style.animationName&&(e=!0),e===!1)for(var r=0;r<s.length;r++)if(void 0!==elm.style[s[r]+"AnimationName"]){var n=s[r];t=n+"Animation",i="-"+n.toLowerCase()+"-",e=!0;break}return e}function _getDocHeight(){return Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight))}function _getInnerHeight(){return window.innerHeight}function _getScrolled(){return Math.max(window.scrollY,document.body.scrollTop)}function increasePopup(){_total_pops_created++,_rough_total_pops_atm++}function decreasePopup(){_rough_total_pops_atm--}function _checkValidPopClasses(e){for(var t=e.trim().split(/[\s]+/),i=0;i<t.length;i++)if(!popscript[t[i]])return console.error("PopScript Error 1: Inexistent Pop Class: '"+t[i]+"'"),alert("PopScript Error 1: Inexistent Pop Class: '"+t[i]+"'"),!1;return t}function _compilePopClass(e){for(var t,i,s,r={},n=0;n<e.length;n++){t=e[n],i=popscript[t];for(s in i)r[s]=i[s]}return r}function _removePx(e){var t=e.indexOf("px");return-1!==t?parseInt(e.substr(0,t)):void 0}function _findMarginTopByNode(e){e.style.visibility="hidden",e.id="popscript-check-popup-height",document.body.appendChild(e);var t=document.getElementById("popscript-check-popup-height"),i=t.offsetHeight;return e.style.visibility="visible",document.body.removeChild(t),_findMarginTopByHeight(i)}function _findMarginTopByHeight(e){var t=_getInnerHeight();return e>=t?_getScrolled():parseInt((t-e)/2)+_getScrolled()}function _findNonAutoMarginTop(e){return e=e.trim(),"%"===e[e.length-1]?_getScrolled()+parseFloat(_getInnerHeight())*(parseInt(e.match(/([\d]+)%/)[1])/100):_getScrolled()+parseInt(e.match(/([\d]+)/)[1])}function pop(e,t,i){t||(t=""),t="basic "+t,void 0===t.substr&&(i=t,t="basic");var s=_total_pops_created+1,r=new Pop(t);if(r.isValid()===!1)return!1;increasePopup();var n=document.createElement("div");n.style.height=_getDocHeight()+"px",n.style.position="absolute",n.style.width="100%",n.style.top="0",n.style.left="0",n.style.right="0",n.style.zIndex="999999";var o=r.scan("cover_class");o&&"none"!==o&&(n.className=r.scan("cover_class")),n.setAttribute("data-pop",t),n.id="popscript-cover-"+s,n.onclick=closePop;var a=document.createElement("div");a.style.margin="auto",a.style.position="relative",a.style.zIndex="1000000";var l=r.scan("top");a.setAttribute("data-popscript-top",l),a.className=r.scan("popup_class"),void 0!==e.substring?a.appendChild(document.createTextNode(e)):a.appendChild(e),a.style.marginTop=l&&"auto"!==l?_findNonAutoMarginTop(l)+"px":_findMarginTopByNode(a)+"px",a.id="popscript-popup-"+s;var c=function(){var e=document.getElementById("popscript-popup-"+s);null!==e&&(e.style.marginTop=l&&"auto"!==l?_findNonAutoMarginTop(l)+"px":_findMarginTopByHeight(e.offsetHeight)+"px")},h=r.scan("align_check");if(h)for(var u=0;u<h.length;u++)setTimeout(c,h[u]);if(a.onclick=function(e){e.stopImmediatePropagation()},a.onClosePop=i&&i.onpopout?i.onpopout:function(){},r.scan("close_pop")){var p=document.createElement("span");p.style.cursor="pointer",p.style.position="absolute",p.style.top="0",p.style.right="0",p.className=r.scan("close_pop_class"),p.innerHTML="x",p.onclick=closePop}r.scan("close_pop")&&a.appendChild(p),n.appendChild(a),document.body.appendChild(n),document.addEventListener?document.addEventListener("keydown",_escapePopOut,!1):document.detachEvent&&document.attachEvent("keydown",_escapePopOut),_total_pops_created++}function _currentHighestPopNum(){for(var e=_total_pops_created;0!==e;){if(document.getElementById("popscript-cover-"+e))return e;e--}return 0}function popOut(){if(!noPopsLeft()){var e=_currentHighestPopNum(),t=document.getElementById("popscript-cover-"+e),i=document.getElementById("popscript-popup-"+e),s=new Pop(t.getAttribute("data-pop"));i.onClosePop();var r={};r[i.id]=s.scan("popup_animation_out_keyframes_name"),r[t.id]=s.scan("cover_animation_out_keyframes_name");var n=s.scan("animation_out_duration");_pAnimateOut(n,document.getElementById("popscript-cover-"+e),r),decreasePopup()}}function noPopsLeft(){for(var e=document.getElementsByTagName("*"),t=/^popscript\-cover\-([\d]+)$/,i=0;i<e.length;i++)if(e[i].id&&e[i].id.match(t))return!1;return!0}function onePopLeft(){for(var e=document.getElementsByTagName("*"),t=/^popscript\-cover\-([\d]+)$/,i=!1,s=0;s<e.length;s++)if(e[s].id&&e[s].id.match(t)){if(i)return!1;i=!0}return i}function closePop(){if(!noPopsLeft()){for(var e,t,i,s,r,n=/popscript\-cover\-([\d]+)/,o=this,a=!1;o&&o.getAttribute;){if(e=o.getAttribute("id"),t=e?e.match(n):!1){a=!0,i=t[1],r=o,s=o.firstChild;break}o=o.parentNode}if(a){s.onClosePop();var l=new Pop(r.getAttribute("data-pop")),c={};c[s.id]=l.scan("popup_animation_out_keyframes_name"),c[r.id]=l.scan("cover_animation_out_keyframes_name");var h=l.scan("animation_out_duration");_pAnimateOut(h,document.getElementById("popscript-cover-"+i),c),decreasePopup(),noPopsLeft()&&(document.removeEventListener?document.removeEventListener("keydown",_escapePopOut,!1):document.detachEvent&&document.detachEvent("keydown",_escapePopOut))}}}function _pAnimateOut(e,t,i){var s=0;if(_animationPossible&&0===e)t.parentNode.removeChild(t);else{s=e-30,setTimeout(function(){t.parentNode.removeChild(t)},s);for(var r in i){var n=i[r];if(n&&"none"!==n){var o=document.getElementById(r);o.style.animation=n+" "+e+"ms",o.style.webkitAnimation=n+" "+e+"ms",o.style.mozAnimation=n+" "+e+"ms",o.style.oAnimation=n+" "+e+"ms",o.style.msAnimation=n+" "+e+"ms"}}}}function skinTesting(){return window.location.href.match(/^file:\/\/\//)}function add_animation(e,t,i){var s=t+" "+i+"ms";void 0!==e.style?(e.style.animation=s,e.style.webkitAnimation=s):e.css({animation:s,"-webkit-animation":s})}function remove_animation(e){return e.style.animation="none",e.style.webkitAnimation="none",e}function is_there(e){return void 0!==e}function go_ajax(e,t,i,s,r){is_there(s)||(s=function(){location.reload()});var n,o=function(){$(".loading").hide()};r.complete?$.isArray(r.complete)?(r.complete.push(o),n=r.complete):n=[r.complete,o]:n=o;var a={url:e,type:t,data:JSON.stringify(i),contentType:"application/json;charset=UTF-8",success:s,complete:n,error:function(){pop("Something went wrong, your request could not be completed.","error")}};r.context&&(a.context=r.context),$.ajax(a)}function bring_json(e,t,i){$.getJSON(e,t,i)}function validEmail(e){var t=/[A-Za-z0-9\._%\+\-]+@[A-Za-z0-9\._%\+\-]+\.[A-Za-z]{2,4}/;return void 0!==e&&e.substring&&e.match(t)}function isParent(e,t){for(var i,s=e;s;){if(i=s.id?s.id:"",i&&i===t)return!0;s=s.parentNode}return!1}function destroyByID(e){document.getElementById(e).parentNode.removeChild(document.getElementById(e))}function escapeState(e){var t=document.onclick,i=document.forceEscape,s=document.onkeydown;document.onclick=function(r){r=r||window.event;var n=r.target||r.srcElement;isParent(n,e)||(destroyByID(e),document.onclick=t,document.onkeydown=s,document.forceEscape=i)},document.forceEscape=function(){destroyByID(e),document.onclick=t,document.onkeydown=s,document.forceEscape=i},document.onkeydown=function(r){var n=r?r.keyCode:window.event.keyCode;27===n&&(destroyByID(e),document.onclick=t,document.onkeydown=s,document.forceEscape=i)}}var oneminute_interval=10,month_mapper={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"};oneminute();for(var oneminute_rescanner=setInterval(oneminute,oneminute_interval),default_text_not_html=!0,_cook_all_events="blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu dragover dragleave dragstart drag dragend animationstart animationend animationiteration".split(" "),_cook_text_details_html_functions=["span","div","p","article","section","aside","audio","video","figure","caption","form","select","option","optgroup","button","textarea","ul","ol","li","abbr","br","hr","table","tr","th","thead","tbody","tfoot","td","colgroup","blockquote","pre","b","u","strike","strong","sub","sup","a","col","img","script","link","meta","iframe","input","h1","h2","h3","h4","h5","h6"],html_tag,i=0;i<_cook_text_details_html_functions.length;i++)html_tag=_cook_text_details_html_functions[i],eval("function "+html_tag+"(first_parameter,second_parameter,third_parameter) { "+"return cook('"+html_tag+"', first_parameter,second_parameter,third_parameter);"+"}");for(var _cook_form_func_name,_cook_form_type,_cook_extra_form_functions=[["radio","radio"],["checkbox","checkbox"],["textinput","text"]],m=0;m<_cook_extra_form_functions.length;m++)_cook_form_func_name=_cook_extra_form_functions[m][0],_cook_form_type=_cook_extra_form_functions[m][1],eval("function "+_cook_form_func_name+"(first_parameter,second_parameter,third_parameter) {"+"if (_isDictionary(first_parameter)){"+"    first_parameter.type = '"+_cook_form_type+"';"+"} else if(_isDictionary(second_parameter)) {"+"    second_parameter.type = '"+_cook_form_type+"';"+"} else if (_isDictionary(third_parameter)) {"+"    third_parameter.type = '"+_cook_form_type+"';"+"} else if (first_parameter === undefined) {"+"    first_parameter = {type:'"+_cook_form_type+"'};"+"} else if (second_parameter === undefined) {"+"    second_parameter = {type:'"+_cook_form_type+"'}"+"} else {"+"    third_parameter = {type:'"+_cook_form_type+"'}"+"}"+"return cook('input', first_parameter,second_parameter,third_parameter);}");var paragraph=p,hyperlink=a,bold=b,italic=i,underline=u,list_item=li,popscript={basic:{popup_class:"popup-popup",cover_class:"popup-cover",close_pop:!0,close_pop_class:"popup-close",cover_animation_out_keyframes_name:"out-backy",popup_animation_out_keyframes_name:"out-pop",animation_out_duration:410,align_check:[20,350,900]},slide:{popup_class:"popup-popup arrive-right",popup_animation_out_keyframes_name:"depart-right cubic-bezier(1,0,.46,1)"},large:{popup_class:"popup-popup popup-large"},error:{popup_class:"popup-popup error-popup",top:"45px",popup_animation_out_keyframes_name:"top-fly",close_pop:"popup-close no-hover-close"},success:{popup_class:"popup-popup success-popup",top:"45px",popup_animation_out_keyframes_name:"top-fly",close_pop:"popup-close no-hover-close"}};for(var k in popscript)-1!==k.indexOf(" ")&&(console.error("PopScript Error 2: Invalid Pop Class Name: '"+popscript[k]+"'"),alert("PopScript Error 2: Invalid Pop Class Name: '"+popscript[k]+"'"));var _total_pops_created=0,_rough_total_pops_atm=0,Pop=function(e){this.pop_class=e,this.pop_class_list=_checkValidPopClasses(e),this.compiled=this.pop_class_list?_compilePopClass(this.pop_class_list):{},this.isValid=function(){return this.pop_class_list},this.scan=function(e){return this.compiled[e]}};!function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,r,n,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),n=e.childNodes,o=[],s=0,r=n.length;r>s;s++)i=n[s],o.push(this.add_option(i,t,e.disabled));return o},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var i,s,r,n,o;for(s=new e,o=t.childNodes,r=0,n=o.length;n>r;r++)i=o[r],s.add_node(i);return s.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.result_add_option=function(e){var t,i;return e.dom_id=this.container_id+"_o_"+e.array_index,t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+">"+e.html+"</li>"},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.choices_count=function(){var e,t,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,t=0,i=s.length;i>t;t++)e=s[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,i;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*e.length),t=e.substring(i,i+1)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.browser_is_supported=function(){var e;return"Microsoft Internet Explorer"===window.navigator.appName?null!==(e=document.documentMode)&&e>=8:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),t.AbstractChosen=e}.call(this),function(){var e,t,i,s,r={}.hasOwnProperty,n=function(e,t){function i(){this.constructor=e}for(var s in t)r.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i=this,e=jQuery,e.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var s;return s=e(this),s.hasClass("chzn-done")?void 0:s.data("chosen",new t(this,i))}):this}}),t=function(t){function r(){return s=r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},r.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},r.prototype.set_up_html=function(){var t,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",t=["chzn-container"],t.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),i={id:this.container_id,"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},r.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){e.container_mousedown(t)}),this.container.mouseup(function(t){e.container_mouseup(t)}),this.container.mouseenter(function(t){e.mouse_enter(t)}),this.container.mouseleave(function(t){e.mouse_leave(t)}),this.search_results.mouseup(function(t){e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel DOMMouseScroll",function(t){e.search_results_mousewheel(t)}),this.form_field_jq.bind("liszt:updated",function(t){e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){e.container_mousedown(t)}),this.search_field.blur(function(t){e.input_blur(t)}),this.search_field.keyup(function(t){e.keyup_checker(t)}),this.search_field.keydown(function(t){e.keydown_checker(t)}),this.search_field.focus(function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){e.choices_click(t)}):this.container.click(function(e){e.preventDefault()})},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},r.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chzn-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field())},r.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},r.prototype.search_results_mousewheel=function(e){var t,i,s;return t=-(null!=(i=e.originalEvent)?i.wheelDelta:void 0)||(null!=(s=e.originialEvent)?s.detail:void 0),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},r.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},r.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){var e,t,s,r,n;for(this.parsing=!0,this.selected_option_count=null,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",n=this.results_data,s=0,r=n.length;r>s;s++)t=n[s],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},r.prototype.result_add_group=function(t){return t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>"},r.prototype.result_do_highlight=function(e){var t,i,s,r,n;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),r=s+n,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-s>0?t-s:0);if(n>i)return this.search_results.scrollTop(i)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},r.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this})),this.results_showing=!1},r.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)):void 0},r.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.click(function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},r.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},r.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},r.prototype.choice_build=function(t){var i,s,r=this;return i=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(s=e("<a />",{href:"#","class":"search-choice-close",rel:t.array_index}),s.click(function(e){return r.choice_destroy_link_click(e)}),i.append(s)),this.search_container.before(i)},r.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},r.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},r.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},r.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},r.prototype.result_select=function(e){var t,i,s,r;return this.result_highlight?(t=this.result_highlight,i=t.attr("id"),this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),r=i.substr(i.lastIndexOf("_")+1),s=this.results_data[r],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(s):(this.selected_item.find("span").first().text(s.text),this.allow_single_deselect&&this.single_deselect_control_build()),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},r.prototype.result_activate=function(e,t){return t.disabled?e.addClass("disabled-result"):this.is_multiple&&t.selected?e.addClass("result-selected"):e.addClass("active-result")},r.prototype.result_deactivate=function(e){return e.removeClass("active-result result-selected disabled-result")
},r.prototype.result_deselect=function(t){var i,s;return s=this.results_data[t],this.form_field.options[s.options_index].disabled?!1:(s.selected=!1,this.form_field.options[s.options_index].selected=!1,this.selected_option_count=null,i=e("#"+this.container_id+"_o_"+t),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[s.options_index].value}),this.search_field_scale(),!0)},r.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chzn-single-with-deselect")):void 0},r.prototype.winnow_results=function(){var t,i,s,r,n,o,a,l,c,h,u,p,_,d,f,m,g,v;for(this.no_results_clear(),c=0,h=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),o=this.search_contains?"":"^",n=new RegExp(o+h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),_=new RegExp(h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),v=this.results_data,d=0,m=v.length;m>d;d++)if(i=v[d],!i.empty)if(i.group)e("#"+i.dom_id).css("display","none");else{if(t=!1,l=i.dom_id,a=e("#"+l),n.test(i.html))t=!0,c+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(r=i.html.replace(/\[|\]/g,"").split(" "),r.length))for(f=0,g=r.length;g>f;f++)s=r[f],n.test(s)&&(t=!0,c+=1);t?(h.length?(u=i.html.search(_),p=i.html.substr(0,u+h.length)+"</em>"+i.html.substr(u+h.length),p=p.substr(0,u)+"<em>"+p.substr(u)):p=i.html,a.html(p),this.result_activate(a,i),null!=i.group_array_index&&e("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>c&&h.length?this.no_results(h):this.winnow_results_set_highlight()},r.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},r.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},r.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},r.prototype.search_field_scale=function(){var t,i,s,r,n,o,a,l;if(this.is_multiple){for(i=0,o=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",n=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=n.length;l>a;a++)s=n[a],r+=s+":"+this.search_field.css(s)+";";return t=e("<div />",{style:r}),t.text(this.search_field.val()),e("body").append(t),o=t.width()+25,t.remove(),this.f_width||(this.f_width=this.container.outerWidth()),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"})}},r.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},r}(AbstractChosen),i.Chosen=t}.call(this);var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function t(){return!1}function i(){}function s(){}i.prototype={chain:function(t,i){var s=this[t];if(!s)throw new Error("unknown hook "+t);this[t]=s===e?i:function(){var e=Array.prototype.slice.call(arguments,0);return e[0]=s.apply(null,e),i.apply(null,e)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},Markdown.HookCollection=i,s.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},Markdown.Converter=function(){function e(e){return e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,t,i,s,r,n){return t=t.toLowerCase(),$.set(t,x(i)),r?s:(n&&H.set(t,n.replace(/"/g,"&quot;")),"")})}function t(e){return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,r),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,r),e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r),e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,r),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r)}function r(e,t){var i=t;return i=i.replace(/^\n+/,""),i=i.replace(/\n+$/g,""),i="\n\n~K"+(j.push(i)-1)+"K\n\n"}function n(e,i){e=S.preBlockGamut(e,O),e=_(e);var s="<hr />\n";return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,s),e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,s),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,s),e=d(e),e=m(e),e=k(e),e=S.postBlockGamut(e,O),e=t(e),e=w(e,i)}function o(e){return e=S.preSpanGamut(e),e=v(e),e=a(e),e=C(e),e=h(e),e=l(e),e=P(e),e=e.replace(/~P/g,"://"),e=x(e),e=b(e),e=e.replace(/  +\n/g," <br>\n"),e=S.postSpanGamut(e)}function a(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=I(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")})}function l(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,c),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,c),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,c)}function c(e,t,i,s,r,n,o,a){void 0==a&&(a="");var l=t,c=i.replace(/:\/\//g,"~P"),h=s.toLowerCase(),p=r,_=a;if(""==p)if(""==h&&(h=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+h,void 0!=$.get(h))p=$.get(h),void 0!=H.get(h)&&(_=H.get(h));else{if(!(l.search(/\(\s*\)$/m)>-1))return l;p=""}p=T(p),p=I(p,"*_");var d='<a href="'+p+'"';return""!=_&&(_=u(_),_=I(_,"*_"),d+=' title="'+_+'"'),d+=">"+c+"</a>"}function h(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p)}function u(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function p(e,t,i,s,r,n,o,a){var l=t,c=i,h=s.toLowerCase(),p=r,_=a;if(_||(_=""),""==p){if(""==h&&(h=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+h,void 0==$.get(h))return l;p=$.get(h),void 0!=H.get(h)&&(_=H.get(h))}c=I(u(c),"*_[]()"),p=I(p,"*_");var d='<img src="'+p+'" alt="'+c+'"';return _=u(_),_=I(_,"*_"),d+=' title="'+_+'"',d+=" />"}function _(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+o(t)+"</h1>\n\n"}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+o(t)+"</h2>\n\n"}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,i){var s=t.length;return"<h"+s+">"+o(i)+"</h"+s+">\n\n"})}function d(e,t){e+="~0";var i=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return D?e=e.replace(i,function(e,i,s){var r=i,n=s.search(/[*+-]/g)>-1?"ul":"ol",o=f(r,n,t);return o=o.replace(/\s+$/,""),o="<"+n+">"+o+"</"+n+">\n"}):(i=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(i,function(e,t,i,s){var r=t,n=i,o=s.search(/[*+-]/g)>-1?"ul":"ol",a=f(n,o);return a=r+"<"+o+">\n"+a+"</"+o+">\n"})),e=e.replace(/~0/,"")}function f(e,t,i){D++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var s=q[t],r=new RegExp("(^[ \\t]*)("+s+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+s+")[ \\t]+))","gm"),a=!1;return e=e.replace(r,function(e,t,s,r){var l=r,c=/\n\n$/.test(l),h=c||l.search(/\n{2,}/)>-1;return h||a?l=n(N(l),!0):(l=d(N(l),!0),l=l.replace(/\n$/,""),i||(l=o(l))),a=c,"<li>"+l+"</li>\n"}),e=e.replace(/~0/g,""),D--,e}function m(e){return e+="~0",e=e.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,i){var s=t,r=i;return s=y(N(s)),s=A(s),s=s.replace(/^\n+/g,""),s=s.replace(/\n+$/g,""),s="<pre><code>"+s+"\n</code></pre>","\n\n"+s+"\n\n"+r}),e=e.replace(/~0/,"")}function g(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(j.push(e)-1)+"K\n\n"}function v(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,i,s){var r=s;return r=r.replace(/^([ \t]*)/g,""),r=r.replace(/[ \t]*$/g,""),r=y(r),r=r.replace(/:\/\//g,"~P"),t+"<code>"+r+"</code>"})}function y(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=I(e,"*_{}[]\\",!1)}function b(e){return e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),e=e.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function k(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var i=t;return i=i.replace(/^[ \t]*>[ \t]?/gm,"~0"),i=i.replace(/~0/g,""),i=i.replace(/^[ \t]+$/gm,""),i=n(i),i=i.replace(/(^|\n)/g,"$1  "),i=i.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var i=t;return i=i.replace(/^  /gm,"~0"),i=i.replace(/~0/g,"")}),g("<blockquote>\n"+i+"\n</blockquote>")})}function w(e,t){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var i=e.split(/\n{2,}/g),s=[],r=/~K(\d+)K/,n=i.length,a=0;n>a;a++){var l=i[a];r.test(l)?s.push(l):/\S/.test(l)&&(l=o(l),l=l.replace(/^([ \t]*)/g,"<p>"),l+="</p>",s.push(l))}if(!t){n=s.length;for(var a=0;n>a;a++)for(var c=!0;c;)c=!1,s[a]=s[a].replace(/~K(\d+)K/g,function(e,t){return c=!0,j[t]})}return s.join("\n\n")}function x(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function C(e){return e=e.replace(/\\(\\)/g,M),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,M)}function z(e,t,i,s){if(t)return e;if(")"!==s.charAt(s.length-1))return"<"+i+s+">";for(var r=s.match(/[()]/g),n=0,o=0;o<r.length;o++)"("===r[o]?0>=n?n=1:n++:n--;var a="";if(0>n){var l=new RegExp("\\){1,"+-n+"}$");s=s.replace(l,function(e){return a=e,""})}if(a){var c=s.charAt(s.length-1);R.test(c)||(a=c+a,s=s.substr(0,s.length-1))}return"<"+i+s+">"+a}function P(e){e=e.replace(K,z);var t=function(e,t){return'<a href="'+t+'">'+S.plainLinkText(t)+"</a>"};return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,t)}function E(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var i=parseInt(t);return String.fromCharCode(i)})}function N(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}function A(e){if(!/\t/.test(e))return e;var t,i=["    ","   ","  "," "],s=0;return e.replace(/[\n\t]/g,function(e,r){return"\n"===e?(s=r+1,e):(t=(r-s)%4,s=r+1,i[t])})}function T(e){if(!e)return"";var t=e.length;return e.replace(W,function(i,s){return"~D"==i?"%24":":"!=i||s!=t-1&&!/[0-9\/]/.test(e.charAt(s+1))?"%"+i.charCodeAt(0).toString(16):":"})}function I(e,t,i){var s="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";i&&(s="\\\\"+s);var r=new RegExp(s,"g");return e=e.replace(r,M)}function M(e,t){var i=t.charCodeAt(0);return"~E"+i+"E"}var S=this.hooks=new i;S.addNoop("plainLinkText"),S.addNoop("preConversion"),S.addNoop("postNormalization"),S.addNoop("preBlockGamut"),S.addNoop("postBlockGamut"),S.addNoop("preSpanGamut"),S.addNoop("postSpanGamut"),S.addNoop("postConversion");var $,H,j,D;this.makeHtml=function(i){if($)throw new Error("Recursive call to converter.makeHtml");return $=new s,H=new s,j=[],D=0,i=S.preConversion(i),i=i.replace(/~/g,"~T"),i=i.replace(/\$/g,"~D"),i=i.replace(/\r\n/g,"\n"),i=i.replace(/\r/g,"\n"),i="\n\n"+i+"\n\n",i=A(i),i=i.replace(/^[ \t]+$/gm,""),i=S.postNormalization(i),i=t(i),i=e(i),i=n(i),i=E(i),i=i.replace(/~D/g,"$$"),i=i.replace(/~T/g,"~"),i=S.postConversion(i),j=H=$=null,i};var O=function(e){return n(e)},q={ol:"\\d+[.]",ul:"[*+-]"},B="[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]",L="[-A-Z0-9+&@#/%=~_|[\\])]",K=new RegExp('(="|<)?\\b(https?|ftp)(://'+B+"*"+L+")(?=$|\\W)","gi"),R=new RegExp(L,"i"),W=/(?:["'*()[\]:]|~D)/g}}(),function(e){var t,i={className:"autosizejs",append:"",callback:!1},s="hidden",r="border-box",n="lineHeight",o='<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',a=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],l="oninput",c="onpropertychange",h=e(o).data("autosize",!0)[0];h.style.lineHeight="99px","99px"===e(h).css(n)&&a.push(n),h.style.lineHeight="",e.fn.autosize=function(n){return n=e.extend({},i,n||{}),h.parentNode!==document.body&&e(document.body).append(h),this.each(function(){function i(){t=_,h.className=n.className,e.each(a,function(e,t){h.style[t]=d.css(t)})}function o(){var e,r,o;t!==_&&i(),u||(u=!0,h.value=_.value+n.append,h.style.overflowY=_.style.overflowY,o=parseInt(_.style.height,10),h.style.width=d.width()+"px",h.scrollTop=0,h.scrollTop=9e4,e=h.scrollTop,e>m?(e=m,r="scroll"):f>e&&(e=f),e+=g,_.style.overflowY=r||s,o!==e&&(_.style.height=e+"px",y&&n.callback.call(_)),setTimeout(function(){u=!1},1))}var u,p,_=this,d=e(_),f=d.height(),m=parseInt(d.css("maxHeight"),10),g=0,v=_.value,y=e.isFunction(n.callback);d.data("autosize")||((d.css("box-sizing")===r||d.css("-moz-box-sizing")===r||d.css("-webkit-box-sizing")===r)&&(g=d.outerHeight()-d.height()),p="none"===d.css("resize")?"none":"horizontal",d.css({overflow:s,overflowY:s,wordWrap:"break-word",resize:p}).data("autosize",!0),m=m&&m>0?m:9e4,c in _?l in _?_[l]=_.onkeyup=o:_[c]=o:(_[l]=o,_.value="",_.value=v),e(window).resize(o),d.bind("autosize",o),o())})}}(window.jQuery||window.Zepto),_path_name=window.location.pathname;